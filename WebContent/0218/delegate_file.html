<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="../js/jquery-3.4.1.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="../css/mystyle.css">
<script>

	$(function(){
		
		/* bind형식의 이벤트 - 기존에 만들어져 있는 요소에만 이벤트가 적용 
		$('.add').click(function(){})
		$('.add').bind('click', function(){})
		$('.add').on('click', function(){})
 		*/

 		//delegate - 새롭게 만들어지는 class=add인 요소에도 이벤트가 적용
 		//$('#result1').delegate('.add', 'click', function(){})
 		
 		count = 0;
		$('#result1').on('click', '.add', function(){ // - 델리게이트 형식
			//첫번째 방식
			/* $('<input/>',{
				'type' : 'file'
			}).appendTo('#result1'); */

			count++;
			file = '<p id="' + count + '">';
			file += '<br/>' + '파일 : <input type="file"/>';
			file += '<button type="button" class="add">추가</button>';
			file += '<button type="button" class="del ' + count + '">삭제</button>';
			file += '<br></p>';
			$('#result1').append(file);
			
			
// 			$('<button/>',{
// 				'type' : 'button',
// 				'class' : 'add',
// 				'text' : '추가'
// 			}).appendTo('#result1')
		});
		
		$('#result1').on('click', '.del', function(){
			console.log( $(this).attr('class'));
			
			vclass = $(this).attr('class');
			vc = vclass.split(' '); //vc[0]=del vc[1]=2
			$('#'+vc[1]).remove();
		})

	})

</script>
</head>
<body>

<div class="box">
	<h2> </h2>
	<pre>

	</pre>
	<button type="button">실행</button>
	<div id="result1">
		이름 : <input type="text"><br/>
		파일 : <input type="file">
		<button type="button" class="add">추가</button>
	</div>	
</div>
</body>
</html>