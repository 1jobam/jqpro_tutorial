<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/mystyle.css">
<script type="text/javascript">
	function startProc(){
// 		console.log(event.target.id);

		//이벤트 대상을 설정 - setData("name", value)
		event.dataTransfer.setData("target_img", event.target.id);
	}
	
	function dropProc(){
		//이벤트 대상을 drop - getData("name", value)
		imgid = event.dataTransfer.getData("target_img");
		dragimg = document.getElementById(imgid);
		
		//event.target -> div
		//event.target.appendChild(dragimg)
		
		//이미지위에 이미지를 drop할때 이미지의 부모를 검색해서 drop
		console.log(event.target.tagName);
		if(event.target.tagName == "IMG"){
			parent = event.target.parentNode;
			parent.appendChild(dragimg)
		}else{
			event.target.appendChild(dragimg);
		}
	}
	
	function overProc(){
		//원래 dragover의 기능을 삭제한다
		event.preventDefault()
	}
</script>
<style>
	.box div{
		height : 300px;
	}
	img{
		width : 200px;
		height : 200px;
		margin-right : 5px;
		border-radius : 200px;
	}
</style>
</head>
<body>

<div class="box" ondragover="overProc()" ondrop="dropProc()">
	<h2> </h2>
	<pre>
	드래그 대상 : 드래그가 가능하도록 설정 : draggable = "true"
		dragstart : 드래그 대상을 설정 : event.dataTransfer.setData("name", value)
		dragover : 원래 기능을 삭제한다 event.preventDefault()
		drop : 드래그 대상으로 설정된 요소를 등록한다 
		dragimg = event.dataTransfer.getData("name")
		event.arget.appendChild(dragimg)
		
	</pre>
	<div id="result1" ondragover="overProc()" ondrop="dropProc()"></div>
	<img id="img1" src = "../images/가구1.jpg" draggable="true" ondragstart="startProc()"/>
	<img id="img2" src = "../images/가구3.jpg" draggable="true" ondragstart="startProc()"/>
	<img id="img3" src = "../images/가구2.jpg" draggable="true" ondragstart="startProc()"/>
	<img id="img4" src = "../images/단풍.jpg" draggable="true" ondragstart="startProc()"/>
	<img id="img5" src = "../images/식품1.jpg" draggable="true" ondragstart="startProc()"/>
</div>
</body>
</html>